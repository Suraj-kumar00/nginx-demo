<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NGINX Dashboard - Real-time Monitoring</title>
    <link rel="stylesheet" href="/frontend/static/css/main.css">
    <link rel="stylesheet" href="/frontend/static/css/dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <div class="dashboard-header">
            <h1>üìä NGINX Real-time Dashboard</h1>
            <p>Monitor your NGINX server performance, load balancing, and health metrics</p>
            
            <div class="controls">
                <button class="control-btn active" onclick="refreshAllMetrics()">
                    <span id="refreshIcon">üîÑ</span> Refresh All
                </button>
                <button class="control-btn" onclick="toggleAutoRefresh()" id="autoRefreshBtn">
                    ‚è±Ô∏è Auto Refresh: ON
                </button>
                <button class="control-btn" onclick="clearLogs()">
                    üóëÔ∏è Clear Logs
                </button>
                <button class="control-btn" onclick="exportMetrics()">
                    üìä Export Data
                </button>
            </div>
        </div>

        <!-- System Metrics Grid -->
        <div class="metrics-grid" id="metricsGrid">
            <div class="metric-card">
                <div class="metric-title">Active Connections</div>
                <div class="metric-value connections" id="activeConnections">--</div>
                <div class="metric-change positive" id="connectionChange">Loading...</div>
                <div class="stats-bar">
                    <div class="stats-fill" id="connectionBar" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="metric-card">
                <div class="metric-title">Cache Hit Rate</div>
                <div class="metric-value cache" id="cacheHitRate">--%</div>
                <div class="metric-change" id="cacheChange">Loading...</div>
                <div class="stats-bar">
                    <div class="stats-fill" id="cacheBar" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="metric-card">
                <div class="metric-title">Requests/Min</div>
                <div class="metric-value requests" id="requestRate">--</div>
                <div class="metric-change" id="requestChange">Loading...</div>
                <div class="stats-bar">
                    <div class="stats-fill" id="requestBar" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="metric-card">
                <div class="metric-title">Avg Response Time</div>
                <div class="metric-value response" id="avgResponseTime">--ms</div>
                <div class="metric-change" id="responseChange">Loading...</div>
                <div class="stats-bar">
                    <div class="stats-fill" id="responseBar" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="metric-card">
                <div class="metric-title">Error Rate</div>
                <div class="metric-value errors" id="errorRate">--%</div>
                <div class="metric-change" id="errorChange">Loading...</div>
                <div class="stats-bar">
                    <div class="stats-fill memory-fill" id="errorBar" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="metric-card">
                <div class="metric-title">System Uptime</div>
                <div class="metric-value uptime" id="systemUptime">--</div>
                <div class="metric-change neutral" id="uptimeChange">Loading...</div>
                <div class="performance-indicator">
                    <div class="indicator-dot excellent" id="uptimeIndicator"></div>
                    <span>Excellent Performance</span>
                </div>
            </div>
        </div>

        <!-- Load Balancer Status -->
        <div class="chart-section">
            <h3 class="chart-title">‚öñÔ∏è Load Balancer Status</h3>
            <div class="server-grid" id="serverGrid">
                <!-- Server cards will be populated by JavaScript -->
            </div>
        </div>

        <!-- Request Distribution Chart -->
        <div class="chart-section">
            <h3 class="chart-title">üìà Request Distribution (Last 10 minutes)</h3>
            <div id="requestChart" class="request-chart">
                <!-- Chart bars will be generated by JavaScript -->
            </div>
        </div>

        <!-- Real-time Logs -->
        <div class="chart-section">
            <h3 class="chart-title">
                üìã Real-time Access Logs
                <div class="loading-spinner" id="logSpinner" style="display: none;"></div>
            </h3>
            <div class="log-container" id="accessLogs">
                <div class="log-entry">
                    <span class="log-timestamp">[Loading...]</span>
                    <span class="log-level-info">[INFO]</span>
                    <span>Initializing dashboard...</span>
                </div>
            </div>
        </div>
    </div>

    <script src="/frontend/static/js/main.js"></script>
    <script src="/frontend/static/js/dashboard.js"></script>
</body>
</html>
